<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"  
      xmlns:f="http://java.sun.com/jsf/core"  
      xmlns:p="http://primefaces.org/ui"
      xmlns:sec="http://www.springframework.org/security/tags"
      >
    <h:head>
        dupa jasiu
    </h:head>
    <h:body>

        <h:form enctype="multipart/form-data">
            <p:wizard flowListener="#{registrationBean.onFlowProcess}">
                <p:tab id="login" title="Logowanie">
                    <p:panel header="Dane logowania" >
                        <p:messages id="messages_login" autoUpdate="true"/>
                        <h:panelGrid columns="2" styleClass="grid">

                            <h:outputLabel value="Login*: "/>
                            <p:inputText required="true" label="Login" value="#{registrationBean.registrationModel.login}"/>

                            <h:outputLabel for="password1" value="Haslo*: " />
                            <p:password id="password1" value="#{registrationBean.registrationModel.password}" match="password2" label="Haslo" required="true"/>

                            <h:outputLabel for="password2" value="Powtorz haslo*: " />
                            <p:password id="password2" value="#{registrationBean.registrationModel.password}" label="Powtorz haslo" required="true"/>

                        </h:panelGrid>
                    </p:panel>
                </p:tab>
                <p:tab id="personal" title="Dane Personalne">
                    <p:panel header="Dane Personalne">
                        <p:messages id="messages_data" autoUpdate="true" rendered="true"/>
                        <h:panelGrid columns="2" styleClass="grid">
                            <h:outputLabel value="Imie*: "/>
                            <p:inputText required="true" label="Imie" value="#{registrationBean.registrationModel.firstname}"/>

                            <h:outputLabel value="Nazwisko*: "/>
                            <p:inputText required="true" label="Nazwisko" value="#{registrationBean.registrationModel.surname}"/>

                            <h:outputLabel value="Zdjęcie: "/>
                            <p:fileUpload id="photo" fileUploadListener="#{registrationBean.handleFileUpload}" mode="advanced" dragDropSupport="true"
                                          update="messages_data, avatarToDisplay" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />

                            <h:outputLabel value="Data urodzenia: "/>
                            <p:calendar required="true" value="#{registrationBean.registrationModel.birthDay}" id="bdate" pattern="dd/MM/yyyy" />

                        </h:panelGrid>
                    </p:panel>
                </p:tab>
                <p:tab id="contact" title="Dane Kontaktowe">
                    <p:panel header="Dane kontaktowe">
                        <p:messages id="messages_contact" autoUpdate="true" rendered="true"/>
                        <h:panelGrid columns="2" styleClass="grid">
                            <h:outputLabel value="Email*: "/>
                            <p:inputText required="true" label="Email" value="#{registrationBean.registrationModel.email}"/>

                            <h:outputLabel value="Telefon kontaktowy*: "/>
                            <p:inputText required="true" label="Telefon" value="#{registrationBean.registrationModel.phoneNumber}"/>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>
                <p:tab id="ldz" title="Drużyna">
                    <p:panel header="Drużyna">
                        <p:messages id="messages_team" autoUpdate="true" rendered="true"/>
                        <h:panelGrid columns="2" styleClass="grid">
                            <h:outputLabel value="Pseudonim*: "/>
                            <p:inputText required="true" label="Pseudonim" value="#{registrationBean.registrationModel.nickname}"/>

                            <h:outputLabel value="Numer na koszulce*: "/>
                            <p:selectOneMenu value="#{registrationBean.registrationModel.tshirtNumber}" effect="fade">
                                <f:selectItem itemLabel="Select One" itemValue="" />
                                <f:selectItems value="#{registrationBean.configurationNumbers}" var="number" itemLabel="#{number}" itemValue="#{number}"/>
                            </p:selectOneMenu>

                            <h:outputLabel value="Pozycja*: "/>
                            <p:selectOneMenu value="#{registrationBean.registrationModel.position}" effect="fade">
                                <f:selectItem itemLabel="Select One" itemValue="" />
                                <f:selectItems value="#{registrationBean.configurationPositions}" var="position" itemLabel="#{position}" itemValue="#{position}"/>
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>
                <p:tab id="confirm" title="Confirmation">
                    <p:panel header="Confirmation">
                        <p:messages id="messages_registration" autoUpdate="true" rendered="true"/>
                        <h:panelGrid columns="2" styleClass="grid">
                            <h:outputText value="Login: " />
                            <h:outputText styleClass="outputLabel"
                                          value="#{registrationBean.registrationModel.login}" />

                            <h:outputText value="Imię " />
                            <h:outputText styleClass="outputLabel"
                                          value="#{registrationBean.registrationModel.firstname}" />

                            <h:outputText value="Nazwisko " />
                            <h:outputText styleClass="outputLabel"
                                          value="#{registrationBean.registrationModel.surname}" />

                            <h:outputText value="Pozycja: " />
                            <h:outputText styleClass="outputLabel"
                                          value="#{registrationBean.registrationModel.position}" />

                            <h:outputLabel value="Zdjęcie wczytane: "/>
                            <p:graphicImage id="avatarToDisplay" value="#{registrationBean.avatar}" />

                            <p:commandButton value="Submit"
                                             actionListener="#{registrationBean.registerPlayer()}"/>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>
            </p:wizard>
        </h:form>
    </h:body>
</html>
